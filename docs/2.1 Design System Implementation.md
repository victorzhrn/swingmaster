# Tennis App Design System Implementation Plan

## Phase 1: Design System Foundation (Day 1-2)

### 1.1 Create Design System Files Structure
```
swingmaster/
├── DesignSystem/
│   ├── Colors.swift           # Color tokens & semantic colors
│   ├── Typography.swift       # Type scale & text styles
│   ├── Spacing.swift          # Grid system & spacing tokens
│   ├── Components/            # Reusable styled components
│   │   ├── TennisButton.swift
│   │   ├── TennisCard.swift
│   │   ├── GlassContainer.swift
│   │   └── TennisAvatar.swift
│   └── Theme.swift            # Theme environment object
```

### 1.2 Core Color System File
**File: `DesignSystem/Colors.swift`**
```swift
import SwiftUI

// MARK: - Base Color Palette
enum TennisColors {
    // Primary Tennis Colors
    static let tennisGreen = Color(hex: "#4A9B4E")
    static let courtGreen = Color(hex: "#3B7F3C")
    static let aceGreen = Color(hex: "#5CB85C")
    
    // Accent Colors
    static let tennisYellow = Color(hex: "#F7DC6F")
    static let brightYellow = Color(hex: "#FFE135")
    static let clayOrange = Color(hex: "#E67E22")
    static let clayTerracotta = Color(hex: "#D35400")
    
    // Neutral Colors
    static let courtWhite = Color(hex: "#FAFAFA")
    static let tennisNet = Color(hex: "#2C3E50")
}

// MARK: - Semantic Colors with Dark Mode Support
extension Color {
    // Primary Actions
    static let tennisPrimary = Color("TennisPrimary")  // Asset catalog
    static let tennisSecondary = Color("TennisSecondary")
    
    // Alternatively, computed properties for dynamic colors
    static var recordButton: Color {
        Color(UIColor { traits in
            traits.userInterfaceStyle == .dark 
                ? UIColor(hex: "#E67E22")  // Brighter in dark
                : UIColor(hex: "#D35400")  // Standard in light
        })
    }
    
    // Technique Quality (Adaptive)
    static var excellentForm: Color {
        Color(UIColor { traits in
            traits.userInterfaceStyle == .dark
                ? UIColor(hex: "#5CB85C")  // Brighter green
                : UIColor(hex: "#4A9B4E")  // Standard green
        })
    }
    
    // Glass backgrounds
    static var glassBackground: Color {
        Color(UIColor { traits in
            traits.userInterfaceStyle == .dark
                ? UIColor.black.withAlphaComponent(0.3)
                : UIColor.white.withAlphaComponent(0.3)
        })
    }
}

// Helper for hex colors
extension Color {
    init(hex: String) {
        // Implementation here
    }
}
```

### 1.3 Typography System File
**File: `DesignSystem/Typography.swift`**
```swift
import SwiftUI

struct TennisTypography {
    // Type scale following iOS HIG
    static func largeTitle(_ text: String) -> some View {
        Text(text)
            .font(.system(size: 34, weight: .regular))
    }
    
    static func headline(_ text: String) -> some View {
        Text(text)
            .font(.system(size: 17, weight: .semibold))
    }
    
    static func metric(_ value: String) -> some View {
        Text(value)
            .font(.system(size: 24, weight: .bold, design: .monospaced))
    }
    
    // ViewModifier approach
    struct MetricStyle: ViewModifier {
        func body(content: Content) -> some View {
            content
                .font(.system(size: 24, weight: .bold, design: .monospaced))
        }
    }
}

// Usage: Text("7.5").modifier(TennisTypography.MetricStyle())
```

### 1.4 Spacing System File
**File: `DesignSystem/Spacing.swift`**
```swift
import SwiftUI

enum Spacing {
    static let micro: CGFloat = 4
    static let small: CGFloat = 8
    static let medium: CGFloat = 16
    static let large: CGFloat = 24
    static let xlarge: CGFloat = 32
    static let xxlarge: CGFloat = 48
    
    // Convenience for common patterns
    static let cardPadding: CGFloat = 16
    static let screenMargin: CGFloat = 16
    static let sectionGap: CGFloat = 24
}
```

### 1.5 Glass Container Component
**File: `DesignSystem/Components/GlassContainer.swift`**
```swift
import SwiftUI

struct GlassContainer<Content: View>: View {
    enum Style {
        case subtle   // Video overlays
        case medium   // Cards
        case heavy    // Modals
        
        var material: Material {
            switch self {
            case .subtle: return .ultraThinMaterial
            case .medium: return .thinMaterial
            case .heavy: return .regularMaterial
            }
        }
        
        var borderOpacity: Double {
            switch self {
            case .subtle: return 0.1
            case .medium: return 0.15
            case .heavy: return 0.2
            }
        }
    }
    
    let style: Style
    let cornerRadius: CGFloat
    @ViewBuilder let content: () -> Content
    @Environment(\.colorScheme) var colorScheme
    
    var body: some View {
        content()
            .background(style.material)
            .overlay(
                RoundedRectangle(cornerRadius: cornerRadius)
                    .stroke(Color.white.opacity(style.borderOpacity), lineWidth: 1)
            )
            .clipShape(RoundedRectangle(cornerRadius: cornerRadius))
            .shadow(
                color: colorScheme == .light ? .black.opacity(0.08) : .clear,
                radius: 8, 
                y: 4
            )
    }
}
```

---

## Phase 2: Component Updates (Day 3-4)

### 2.1 Update Priority Order
1. **MainView** - Apply tennis colors, fix spacing, add FAB
2. **CoachCard** - Tennis theme, proper glass effect
3. **VideoSessionCard** - Glass container, tennis accents
4. **FloatingActionButton** - Tennis yellow, proper sizing
5. **RecordOptionsModal** - Glass effect, tennis colors
6. **AnalysisView** - Timeline with tennis colors
7. **CameraView** - Recording button colors

### 2.2 MainView Specific Changes
```swift
// Before
Circle()
    .fill(LinearGradient(...))  // ❌ Gradient on small element
    
// After
TennisAvatar(initial: name.prefix(1))  // ✅ Solid color component

// Before
.padding(.top, 60)  // ❌ Arbitrary spacing

// After  
.padding(.top, Spacing.xxlarge)  // ✅ Design token

// Add FAB
.overlay(alignment: .bottomTrailing) {
    FloatingActionButton(isPressed: $showModal)
        .padding(Spacing.large)
}
```

### 2.3 Component Migration Checklist
- [ ] Replace all `Color.blue` → `TennisColors.tennisGreen`
- [ ] Replace all `Color.yellow` → `TennisColors.tennisYellow`
- [ ] Replace all gradients < 100pt with solid colors
- [ ] Update all padding to use `Spacing` tokens
- [ ] Add `GlassContainer` wrapper to cards
- [ ] Apply `.modifier(TennisTypography.MetricStyle())` to scores
- [ ] Test in both light and dark modes

---

## Phase 3: Dark Mode Optimization (Day 5)

### 3.1 Asset Catalog Setup
Create `Assets.xcassets/Colors/` with color sets:
```
TennisPrimary.colorset/
├── Contents.json
├── Light: #4A9B4E
└── Dark: #5CB85C (10% brighter)

TennisAccent.colorset/
├── Contents.json  
├── Light: #F7DC6F
└── Dark: #FFE135 (more vibrant)
```

### 3.2 Dark Mode Testing Checklist
- [ ] Glass effects have sufficient contrast
- [ ] Shadow effects disabled in dark mode
- [ ] Text remains readable (4.5:1 contrast)
- [ ] Tennis yellow remains visible on dark backgrounds
- [ ] Recording indicators clearly visible

---
