# Tennis App - User Flow & UI Screens (v2.0)

## Current Implementation Flow

```mermaid
flowchart TD
    A[App Launch] --> B[MainView Dashboard]
    B --> C{User Action}
    
    C -->|Tap Floating Button| D[RecordOptionsModal]
    D -->|Record Now| E[CameraView]
    D -->|Upload Video| F[File Picker]
    
    E -->|Record & End| G[Create Session]
    F -->|Select File| G
    
    G --> H[Return to MainView]
    H --> I[Show Session Card with Processing Status]
    I --> J[Background Processing]
    
    J -->|Updates Status| K[Inline Status Display]
    K -->|Processing Complete| L{User Taps Card}
    L -->|Yes| M[AnalysisView with Trajectory]
    M -->|Back| B
    
    B -->|Swipe Coach Cards| N[View Insights Carousel]
    N -->|Tap Card| O[CoachDetailView]
    O -->|Back| B
    
    style B fill:#4A9B4E,stroke:#333,stroke-width:2px,color:#fff
    style J fill:#339af0,stroke:#333,stroke-width:2px,color:#fff
```

---

## Screen Designs

### 1. MAINVIEW - Single Dashboard (Root View)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                          â”‚
â”‚  Victor â€¢ USTR 3.5 â†’ 4.0                â”‚
â”‚  â–£                                       â”‚
â”‚                                          â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—    â”‚
â”‚  â•‘ âœ¨ AI Coach Insight   [Forehand] â•‘    â”‚
â”‚  â•‘                                  â•‘    â”‚
â”‚  â•‘ Your contact point is moving    â•‘    â”‚
â”‚  â•‘ forward nicely. Keep working â†’  â•‘    â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚
â”‚       â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”          â”‚
â”‚            â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘                    â”‚
â”‚         (Page 1 of 3)                    â”‚
â”‚                                          â”‚
â”‚  Recent Sessions                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [Video Thumbnail 200pt]           â”‚  â”‚
â”‚  â”‚  âŸ³ Detecting swings...             â”‚  â”‚ â† Processing overlay
â”‚  â”‚  Today 2:30 PM                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [Video Thumbnail 200pt]           â”‚  â”‚
â”‚  â”‚  âœ“ Ready â€¢ 7.2 avg â€¢ 5 shots      â”‚  â”‚ â† Complete session
â”‚  â”‚  Yesterday 4:15 PM                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚                    [ âŠ• ]                 â”‚ â† Floating button (64pt)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Components:
- Profile header with avatar
- Coach insights carousel (horizontal swipe)
- Video session cards with inline status
- Floating action button (bottom-right)
```

**Key Features:**
- Single scrollable view
- Non-blocking processing status
- Video thumbnails update based on selected shot
- Glass morphism effects on cards

---

### 2. CAMERA VIEW

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ðŸš¶] [ðŸŽ¾]                              â”‚ â† Toggle overlays
â”‚         [Live Camera Feed]               â”‚
â”‚                                          â”‚
â”‚      [Skeleton Overlay Active]           â”‚
â”‚      [Green/Yellow/Red joints]           â”‚
â”‚                                          â”‚
â”‚      [Ball Detection Boxes] ðŸŸ¡           â”‚
â”‚      [Racket Detection Boxes] ðŸŽ¾         â”‚
â”‚                                          â”‚
â”‚  â— 1:23  â€¢  8.2 fps                     â”‚ â† Recording indicator
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚           â•”â•â•â•â•â•â•â•â•â•â•â•—     â•”â•â•â•â•â•â•â•â•—     â”‚
â”‚           â•‘  START   â•‘     â•‘  END  â•‘     â”‚
â”‚           â•šâ•â•â•â•â•â•â•â•â•â•â•     â•šâ•â•â•â•â•â•â•â•     â”‚
â”‚                                          â”‚
â”‚         (START/PAUSE/RESUME + END)       â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

States:
- START â†’ Records (green), shows PAUSE + END
- PAUSE â†’ Shows RESUME + END  
- RESUME â†’ Back to recording
- END â†’ Stops and processes
- Real-time overlays: Skeleton + Ball + Racket detection
- YOLO11-based object detection with confidence indicators
- Toggle buttons for skeleton and object overlays
- Returns to MainView immediately after END
```

---

### 3. ANALYSIS VIEW (Post-Processing Only)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â†                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚         [Video Player - 320pt height]    â”‚
â”‚              â–¶ 0:23 / 1:45              â”‚
â”‚                                          â”‚
â”‚      [Trajectory Overlay on video]       â”‚
â”‚      [Ball/Racket/Wrist paths] ðŸŸ¡â”€â”€â”€ðŸŸ¡   â”‚
â”‚      [Auto-computed on shot selection]   â”‚
â”‚                          [TrajectorySelector] â”‚
â”‚                           ðŸŽšï¸ Controls    â”‚
â”‚      [Playing: Forehand] (when segment   â”‚
â”‚       active)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  TimelineStripEnhanced (with padding)    â”‚
â”‚  â—€ â”€â”€â—â”€â”€â”€â”€â—‡â”€â”€â—â”€â”€â—Žâ”€â”€â—â”€â”€â”€â”€â—‡â”€â”€â”€â”€â—â”€â”€â”€â”€ â–¶    â”‚
â”‚     FH    BH  FH  FH   BH    FH         â”‚
â”‚  â€¢ Snap-to-shot selection                â”‚
â”‚  â€¢ Auto-play segments on selection       â”‚
â”‚  â€¢ Haptic feedback on navigation         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘ [Shot Type] (Forehand/Backhand)    â•‘  â”‚
â”‚  â•‘                                    â•‘  â”‚
â”‚  â•‘ âš¡ Peak Speed: 15 rad/s            â•‘  â”‚
â”‚  â•‘ ðŸ”„ Shoulder Turn: 120Â°             â•‘  â”‚
â”‚  â•‘ ðŸŽ¯ Contact Height: 85%             â•‘  â”‚
â”‚  â•‘ â†—ï¸ Follow Through: 78%             â•‘  â”‚
â”‚  â•‘ âœ… Tracking Quality: 94%           â•‘  â”‚
â”‚  â•‘ (All from SegmentMetrics)          â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Features:
- ScrollView with VStack layout
- Video player with glass morphism styling
- Trajectory overlay directly on video player
- TrajectorySelector in top-trailing corner
- On-demand trajectory computation per shot
- Auto-play segments when shots are selected
- TimelineStripEnhanced with prev/next navigation
- Simple metrics from SegmentMetrics (no AI insights)
- Glass container styling for metrics card
- Haptic feedback on shot navigation
```

---

### 4. RECORD OPTIONS MODAL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                          â”‚
â”‚     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—       â”‚
â”‚     â•‘                            â•‘       â”‚
â”‚     â•‘   How do you want to      â•‘       â”‚
â”‚     â•‘   add a swing?             â•‘       â”‚
â”‚     â•‘                            â•‘       â”‚
â”‚     â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘       â”‚
â”‚     â•‘  â”‚   ðŸ“¹ Record Now      â”‚ â•‘       â”‚
â”‚     â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘       â”‚
â”‚     â•‘                            â•‘       â”‚
â”‚     â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘       â”‚
â”‚     â•‘  â”‚   ðŸ“ Upload Video    â”‚ â•‘       â”‚
â”‚     â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘       â”‚
â”‚     â•‘                            â•‘       â”‚
â”‚     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â”‚
â”‚                                          â”‚
â”‚            [Tap to dismiss]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Glass modal with two options only
```

---

### 5. COACH DETAIL VIEW

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â†                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘ [Forehand]                         â•‘  â”‚
â”‚  â•‘                                    â•‘  â”‚
â”‚  â•‘ Late Contact Point                 â•‘  â”‚
â”‚  â•‘ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â•‘  â”‚
â”‚  â•‘                                    â•‘  â”‚
â”‚  â•‘ ## ðŸ‘‹ Hey Victor!                  â•‘  â”‚
â”‚  â•‘                                    â•‘  â”‚
â”‚  â•‘ I watched your last 5 sessions -   â•‘  â”‚
â”‚  â•‘ your grip and stance? *Chef's      â•‘  â”‚
â”‚  â•‘ kiss* ðŸ‘¨â€ðŸ³                          â•‘  â”‚
â”‚  â•‘                                    â•‘  â”‚
â”‚  â•‘ ## ðŸŽ¯ The Real Issue               â•‘  â”‚
â”‚  â•‘                                    â•‘  â”‚
â”‚  â•‘ You're making contact **0.3        â•‘  â”‚
â”‚  â•‘ seconds late**. That's the         â•‘  â”‚
â”‚  â•‘ difference between a rocket        â•‘  â”‚
â”‚  â•‘ and a push...                      â•‘  â”‚
â”‚  â•‘                                    â•‘  â”‚
â”‚  â•‘ [Scrollable markdown content]      â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â–¶ Watch Video Tutorial             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Single glass card with unified content
Optional video link at bottom
```

---

## Processing Status States

### VideoSessionCard Status Overlays

```
PENDING
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Blurred Thumbnail]    â”‚
â”‚ âŸ³ Preparing...         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

EXTRACTING POSES
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Blurred Thumbnail]    â”‚
â”‚ âŸ³ Detecting motion     â”‚
â”‚ â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘ 40%        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CALCULATING METRICS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Blurred Thumbnail]    â”‚
â”‚ âŸ³ Computing metrics    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DETECTING SWINGS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Blurred Thumbnail]    â”‚
â”‚ âŸ³ Finding swings       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

VALIDATING SWINGS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Blurred Thumbnail]    â”‚
â”‚ âŸ³ Validating 2/5       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

COMPLETE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Clear Thumbnail]      â”‚
â”‚ âœ“ Ready â€¢ 7.2 â€¢ 5 shotsâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

FAILED
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Blurred Thumbnail]    â”‚
â”‚ âš ï¸ Failed â€¢ [Retry]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Interaction Patterns

### Recording Flow

```mermaid
flowchart TD
    A[MainView] --> B[Tap Floating Button]
    B --> C[RecordOptionsModal Opens]
    C --> D[Choose Record Now]
    D --> E[CameraView Opens]
    E --> F[Real-time Overlays Active]
    F --> G[Skeleton + Ball + Racket Detection]
    G --> H[Tap START Button]
    H --> I[Recording Begins]
    I --> J{During Recording}
    J -->|Can Pause| K[Tap PAUSE]
    K --> L[Tap RESUME]
    L --> I
    J -->|Finish| M[Tap END]
    M --> N[Processing Overlay]
    N --> O[Return to MainView]
    O --> P[New Session Card Appears]
    P --> Q[Background Processing Pipeline]
    Q --> R[Status Updates: Poses â†’ Metrics â†’ Swings â†’ Validation]
    
    style E fill:#4A9B4E,stroke:#333,stroke-width:2px,color:#fff
    style I fill:#339af0,stroke:#333,stroke-width:2px,color:#fff
```

### Upload Flow

```mermaid
flowchart TD
    A[MainView] --> B[Tap Floating Button]
    B --> C[RecordOptionsModal Opens]
    C --> D[Choose Upload Video]
    D --> E[Photos Picker Opens]
    E --> F[Select Video File]
    F --> G[Return to MainView]
    G --> H[New Session Card Appears]
    H --> I[Background Processing Pipeline]
    I --> J[Status Updates: Poses â†’ Metrics â†’ Swings â†’ Validation]
    
    style E fill:#4A9B4E,stroke:#333,stroke-width:2px,color:#fff
    style I fill:#339af0,stroke:#333,stroke-width:2px,color:#fff
```

### Analysis Navigation

```mermaid
flowchart TD
    A[Session Processing Complete] --> B[Status: Ready]
    B --> C[Tap Session Card]
    C --> D[AnalysisView Opens]
    D --> E[Video Player + Timeline + Metrics]
    E --> F{User Interaction}
    F -->|Select Shot| G[Auto-play Segment]
    G --> H[Timeline Updates]
    H --> I[Trajectory Computation]
    I --> J[Trajectory Overlay on Video]
    F -->|Use TrajectorySelector| K[Toggle Overlays]
    K --> L[Wrist/Ball/Racket Paths]
    F -->|Navigate Timeline| M[Snap-to-Shot]
    M --> N[Haptic Feedback]
    N --> G
    F -->|View Metrics| O[SegmentMetrics Display]
    O --> P[Peak Speed/Shoulder Turn/etc.]
    F -->|Back Button| Q[Return to MainView]
    
    style D fill:#4A9B4E,stroke:#333,stroke-width:2px,color:#fff
    style I fill:#339af0,stroke:#333,stroke-width:2px,color:#fff
```

### Coach Insights Flow

```mermaid
flowchart TD
    A[MainView] --> B[Coach Cards Carousel]
    B --> C[Swipe Horizontally]
    C --> D[Page Indicator Updates]
    D --> E{User Action}
    E -->|Continue Swiping| C
    E -->|Tap Card| F[CoachDetailView Opens]
    F --> G[Markdown Content Display]
    G --> H{Optional Action}
    H -->|Watch Tutorial| I[Video Tutorial Opens]
    H -->|Back| J[Return to MainView]
    I --> J
    
    style F fill:#4A9B4E,stroke:#333,stroke-width:2px,color:#fff
    style G fill:#339af0,stroke:#333,stroke-width:2px,color:#fff
```

---

## Key Design Decisions

### Why MainView First?
- Shows progress and history immediately
- Reduces anxiety about losing recordings
- Provides context through coach insights

### Why Floating Action Button?
- Always accessible
- Doesn't clutter main content
- Familiar mobile pattern

### Why Inline Processing?
- Non-blocking user experience
- Can record multiple videos
- Shows clear progress

### Why Timeline Navigation?
- Visual shot distribution
- Direct access to any moment
- Prev/next for sequential review

---